<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Redacci√≥n - Blog Universitario</title>
    
    <!-- Fuentes Google -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/panel.css">
</head>
<body>
    <!-- BARRA DE USUARIO -->
    <div id="user-bar" class="user-bar">
        <div class="container">
            <span id="user-info"></span>
            <div>
                <a href="/" class="btn-secondary">‚Üê Volver al Blog</a>
                <button onclick="authManager.logout()">Cerrar Sesi√≥n</button>
            </div>
        </div>
    </div>

    <!-- HEADER -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>‚úçÔ∏è Panel de Redacci√≥n</h1>
                <p>Gestiona tus art√≠culos</p>
            </div>
            <nav class="nav">
                <a href="#mis-articulos" onclick="panelManager.mostrarSeccion('mis-articulos')">Mis Art√≠culos</a>
                <a href="#nuevo-articulo" onclick="panelManager.mostrarSeccion('nuevo-articulo')">Nuevo Art√≠culo</a>
                <a href="#estadisticas" onclick="panelManager.mostrarSeccion('estadisticas')">Estad√≠sticas</a>
            </nav>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="main">
        <div class="container">
            <!-- Secci√≥n de Mis Art√≠culos -->
            <section id="mis-articulos" class="seccion-panel">
                <h2>üìù Mis Art√≠culos</h2>
                <div id="lista-mis-articulos" class="articulos-lista">
                    <div class="loading">Cargando tus art√≠culos...</div>
                </div>
            </section>

            <!-- Secci√≥n de Nuevo Art√≠culo -->
            <div id="nuevo-articulo" class="seccion-panel" style="display: none;">
                <div class="form-panel">
                    <h2>üìù Crear Nuevo Art√≠culo</h2>
                    
                    <form id="form-nuevo-articulo">
                        <div class="form-group">
                            <label for="titulo">T√≠tulo del Art√≠culo *</label>
                            <input type="text" id="titulo" placeholder="Escribe un t√≠tulo atractivo..." required>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="categoria">Categor√≠a *</label>
                                <select id="categoria" required>
                                    <option value="">Selecciona una categor√≠a</option>
                                    <option value="tecnologia">Tecnolog√≠a</option>
                                    <option value="ingenieria">Ingenier√≠a</option>
                                    <option value="ciencias">Ciencias</option>
                                    <option value="investigacion">Investigaci√≥n</option>
                                    <option value="educacion">Educaci√≥n</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="resumen">Resumen (opcional)</label>
                                <textarea id="resumen" placeholder="Breve descripci√≥n del art√≠culo..." maxlength="300"></textarea>
                                <div class="contador-caracteres" id="contador-resumen">0/300 caracteres</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="contenido">Contenido del Art√≠culo *</label>
                            <textarea id="contenido" placeholder="Escribe el contenido completo de tu art√≠culo aqu√≠..." 
                                    required rows="12"></textarea>
                            <div class="help-text">Puedes usar saltos de l√≠nea para separar p√°rrafos.</div>
                        </div>

                        <button type="submit" class="btn-form">‚úÖ Publicar Art√≠culo</button>
                    </form>
                </div>
            </div>

            <!-- Secci√≥n de Estad√≠sticas -->
            <section id="estadisticas" class="seccion-panel" style="display: none;">
                <h2>üìä Estad√≠sticas</h2>
                <div id="contenido-estadisticas" class="estadisticas">
                    <div class="loading">Cargando estad√≠sticas...</div>
                </div>
            </section>
        </div>
    </main>

    <!-- MODAL DE EDICI√ìN -->
    <div id="modal-edicion" class="modal">
        <div class="modal-content">
            <span class="close" onclick="panelManager.cerrarModalEdicion()">&times;</span>
            <h3>‚úèÔ∏è Editar Art√≠culo</h3>
            <form id="form-editar-articulo">
                <input type="hidden" id="editar-id">
                
                <div class="form-group">
                    <label for="editar-titulo">T√≠tulo:</label>
                    <input type="text" id="editar-titulo" required>
                </div>

                <div class="form-group">
                    <label for="editar-categoria">Categor√≠a:</label>
                    <select id="editar-categoria" required>
                        <option value="Tecnolog√≠a">Tecnolog√≠a</option>
                        <option value="Ingenier√≠a">Ingenier√≠a</option>
                        <option value="Ciencias">Ciencias</option>
                        <option value="Humanidades">Humanidades</option>
                        <option value="Medicina">Medicina</option>
                        <option value="Investigaci√≥n">Investigaci√≥n</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="editar-resumen">Resumen:</label>
                    <textarea id="editar-resumen" maxlength="300"></textarea>
                </div>

                <div class="form-group">
                    <label for="editar-contenido">Contenido:</label>
                    <textarea id="editar-contenido" required minlength="50"></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="panelManager.cerrarModalEdicion()" class="btn-secondary">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/js/auth.js"></script>
    <script src="/js/panel.js"></script>
</body>
</html>